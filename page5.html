<!DOCTYPE html>
<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans%3Awght@400;500;700;900&family=Work+Sans%3awght@400;500;700;900"
    />

    <title>Stitch Design</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <style>
  .hidden {
    display: none;
  }
  .card {
    cursor: pointer;
    border: 2px solid #dce0e5;
    transition: outline-color 0.14s ease-in-out;
    outline: 2px solid transparent;
  }
  .card.selected {
    outline-color: #0d4a8e;
  }

  /* --- 1. MBTI 탭의 기본 스타일 --- */
  .mbti-tab {
    text-align: center;
    flex: 1;
    cursor: pointer;
    padding-left: 0.5rem;
    padding-right: 0.5rem;
    flex-basis: 50%;
    max-width: 50%;
    transition: color 0.2s ease-out;
  }
  .mbti-tab p {
    /* p 태그에 transition을 직접 적용합니다. */
    transition: transform 0.2s ease-out;
  }
  .mbti-tab.w-full {
    flex-basis: 100%;
    max-width: 100%;
  }

  /* --- 2. 선택된(active) 탭의 스타일 --- */
  .mbti-tab-group .mbti-tab.active {
    border-bottom-color: #111418;
    color: #111418;
  }
  /* 선택된 탭 내부의 p 태그에만 애니메이션을 적용합니다. */
  .mbti-tab-group .mbti-tab.active p {
    animation: float-animation 3s infinite ease-in-out;
  }

  /* --- 3. 선택되지 않은 탭의 스타일 --- */
  .mbti-tab-group .mbti-tab:not(.active) {
    border-bottom-color: transparent;
    color: #637588;
  }
  /* 선택되지 않은 탭에 호버 시, p 태그에만 애니메이션을 적용합니다. */
  .mbti-tab-group .mbti-tab:not(.active):hover p {
    animation: float-animation 3s infinite ease-in-out;
  }
  .mbti-tab-group .mbti-tab:not(.active):hover {
    color: #3e4c59;
  }

  /* --- 4. 위아래로 둥둥 떠다니는 애니메이션 정의 --- */
  @keyframes float-animation {
    0% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-5px);
    }
    100% {
      transform: translateY(0px);
    }
  }

  /* --- 5. 두 버튼에 공통 호버 효과 적용 --- */
  #next-button, #learn-mbti-button {
    transition: transform 0.2s ease-out, background-color 0.2s ease-out;
  }
  #next-button:hover, #learn-mbti-button:hover {
    transform: translateY(-3px);
  }
  
  /* '다음' 버튼만의 고유한 호버 효과 */
  #next-button:hover {
    background-color: #1a73c8; 
  }

  /* '내 MBTI 알아보기' 버튼만의 고유한 호버 효과 (그림자 제거) */
  #learn-mbti-button:hover {
    background-color: #e4e6e8;
  }
</style>
  </head>
  <body>
    <div
      class="relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-auto"
      style='font-family: "Work Sans", "Noto Sans", sans-serif;'
    >
      <div class="layout-container flex h-full grow flex-col">
        <header
          class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f4] px-4 py-3 md:px-10"
        >
          <a class="flex items-center gap-4 text-[#111418] cursor-pointer" href="index.html">
            <div class="size-4">
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z"
                  fill="currentColor"
                ></path>
              </svg>
            </div>
            <h2 class="text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]">
              Grace & Connect
            </h2>
          </a>
          <div class="flex flex-1 justify-end gap-2 md:gap-8">
            <button
              class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5"
            >
              <div class="text-[#111418]" data-icon="Question" data-size="20px" data-weight="regular">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20px"
                  height="20px"
                  fill="currentColor"
                  viewBox="0 0 256 256"
                >
                  <path
                    d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"
                  ></path>
                </svg>
              </div>
            </button>
            <a href="login.html">
              <button
                class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#1466b8] text-white text-sm font-bold leading-normal tracking-[0.015em]"
              >
                <span class="truncate">Login</span>
              </button>
            </a>
          </div>
        </header>
        <div class="flex flex-1 flex-col justify-center py-8 px-4 md:px-40 md:py-16">
          <div class="layout-content-container mx-auto flex w-full max-w-[700px] flex-col">
            <h2 class="px-4 pb-3 text-center text-[36px] font-bold leading-tight tracking-light text-[#111418]">MBTI</h2>
            <h3 class="px-4 pb-2 pt-6 text-xl font-bold leading-tight tracking-[-0.015em] text-[#111418]">
              <span id="target-name">상대방</span>의 MBTI
            </h3>
            <div class="mbti-tab-group pb-3" data-mbti-group="target_1">
              <div class="flex justify-center gap-8 border-b border-[#dce0e5] px-4">
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="E">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">E</p>
                </a>
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="I">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">I</p>
                </a>
              </div>
            </div>
            <div class="mbti-tab-group pb-3" data-mbti-group="target_2">
              <div class="flex justify-center gap-8 border-b border-[#dce0e5] px-4">
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="S">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">S</p>
                </a>
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="N">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">N</p>
                </a>
              </div>
            </div>
            <div class="mbti-tab-group pb-3" data-mbti-group="target_3">
              <div class="flex justify-center gap-8 border-b border-[#dce0e5] px-4">
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="T">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">T</p>
                </a>
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="F">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">F</p>
                </a>
              </div>
            </div>
            <div class="mbti-tab-group pb-3" data-mbti-group="target_4">
              <div class="flex justify-center gap-8 border-b border-[#dce0e5] px-4">
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="J">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">J</p>
                </a>
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="P">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">P</p>
                </a>
              </div>
            </div>
            <div class="mbti-tab-group pb-3" data-mbti-group="target_unknown">
              <div class="flex gap-8 border-b border-[#dce0e5] px-4">
                <a class="mbti-tab flex w-full flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="unknown">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">아직 모름</p>
                </a>
              </div>
            </div>
            <h3 class="px-4 pb-2 pt-8 text-xl font-bold leading-tight tracking-[-0.015em] text-[#111418]">나의 MBTI</h3>
            <div class="mbti-tab-group pb-3" data-mbti-group="my_1">
              <div class="flex justify-center gap-8 border-b border-[#dce0e5] px-4">
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="E">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">E</p>
                </a>
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="I">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">I</p>
                </a>
              </div>
            </div>
            <div class="mbti-tab-group pb-3" data-mbti-group="my_2">
              <div class="flex justify-center gap-8 border-b border-[#dce0e5] px-4">
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="S">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">S</p>
                </a>
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="N">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">N</p>
                </a>
              </div>
            </div>
            <div class="mbti-tab-group pb-3" data-mbti-group="my_3">
              <div class="flex justify-center gap-8 border-b border-[#dce0e5] px-4">
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="T">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">T</p>
                </a>
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="F">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">F</p>
                </a>
              </div>
            </div>
            <div class="mbti-tab-group pb-3" data-mbti-group="my_4">
              <div class="flex justify-center gap-8 border-b border-[#dce0e5] px-4">
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="J">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">J</p>
                </a>
                <a class="mbti-tab flex flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="P">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">P</p>
                </a>
              </div>
            </div>
            <div class="mbti-tab-group pb-3" data-mbti-group="my_unknown">
              <div class="flex gap-8 border-b border-[#dce0e5] px-4">
                <a class="mbti-tab flex w-full flex-col items-center justify-center border-b-[3px] pb-3 pt-4" href="#" data-mbti-value="unknown">
                  <p class="text-base font-bold leading-normal tracking-[0.015em]">아직 모름</p>
                </a>
              </div>
            </div>
            <div class="flex justify-between px-4 py-4">
              <button
                id="learn-mbti-button"
                class="flex h-12 min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg bg-[#f0f2f4] px-5 text-base font-bold leading-normal tracking-[0.015em] text-[#111418]"
              >
                <span class="truncate">내 MBTI 알아보기</span>
              </button>
              <button
                id="next-button"
                class="flex h-12 min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg bg-[#1466b8] px-5 text-base font-bold leading-normal tracking-[0.015em] text-white"
              >
                <span class="truncate">다음</span>
              </button>
            </div>
          </div>
        </div>
        <footer id="main-footer" class="flex justify-center">
          <div class="flex max-w-[960px] flex-1 flex-col">
            <footer class="flex flex-col gap-6 px-5 py-10 text-center @container">
              <div
                class="flex flex-wrap items-center justify-center gap-6 @[480px]:flex-row @[480px]:justify-around"
              >
                <a class="min-w-40 text-base font-normal leading-normal text-[#637588]" href="#">About</a>
                <a class="min-w-40 text-base font-normal leading-normal text-[#637588]" href="#">Contact</a>
                <a class="min-w-40 text-base font-normal leading-normal text-[#637588]" href="#">Privacy Policy</a>
                <a class="min-w-40 text-base font-normal leading-normal text-[#637588]" href="#">Terms of Service</a>
              </div>
              <div class="flex flex-wrap justify-center gap-4">
                <a href="#">
                  <div
                    class="text-[#637588]"
                    data-icon="TwitterLogo"
                    data-size="24px"
                    data-weight="regular"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24px"
                      height="24px"
                      fill="currentColor"
                      viewBox="0 0 256 256"
                    >
                      <path
                        d="M247.39,68.94A8,8,0,0,0,240,64H209.57A48.66,48.66,0,0,0,168.1,40a46.91,46.91,0,0,0-33.75,13.7A47.9,47.9,0,0,0,120,88v6.09C79.74,83.47,46.81,50.72,46.46,50.37a8,8,0,0,0-13.65,4.92c-4.31,47.79,9.57,79.77,22,98.18a110.93,110.93,0,0,0,21.88,24.2c-15.23,17.53-39.21,26.74-39.47,26.84a8,8,0,0,0-3.85,11.93c.75,1.12,3.75,5.05,11.08,8.72C53.51,229.7,65.48,232,80,232c70.67,0,129.72-54.42,135.75-124.44l29.91-29.9A8,8,0,0,0,247.39,68.94Zm-45,29.41a8,8,0,0,0-2.32,5.14C196,166.58,143.28,216,80,216c-10.56,0-18-1.4-23.22-3.08,11.51-6.25,27.56-17,37.88-32.48A8,8,0,0,0,92,169.08c-.47-.27-43.91-26.34-44-96,16,13,45.25,33.17,78.67,38.79A8,8,0,0,0,136,104V88a32,32,0,0,1,9.6-22.92A30.94,30.94,0,0,1,167.9,56c12.66.16,24.49,7.88,29.44,19.21A8,8,0,0,0,204.67,80h16Z"
                      ></path>
                    </svg>
                  </div>
                </a>
                <a href="#">
                  <div
                    class="text-[#637588]"
                    data-icon="InstagramLogo"
                    data-size="24px"
                    data-weight="regular"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24px"
                      height="24px"
                      fill="currentColor"
                      viewBox="0 0 256 256"
                    >
                      <path
                        d="M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160ZM176,24H80A56.06,56.06,0,0,0,24,80v96a56.06,56.06,0,0,0,56,56h96a56.06,56.06,0,0,0,56-56V80A56.06,56.06,0,0,0,176,24Zm40,152a40,40,0,0,1-40,40H80a40,40,0,0,1-40-40V80A40,40,0,0,1,80,40h96a40,40,0,0,1,40,40ZM192,76a12,12,0,1,1-12-12A12,12,0,0,1,192,76Z"
                      ></path>
                    </svg>
                  </div>
                </a>
                <a href="#">
                  <div
                    class="text-[#637588]"
                    data-icon="FacebookLogo"
                    data-size="24px"
                    data-weight="regular"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24px"
                      height="24px"
                      fill="currentColor"
                      viewBox="0 0 256 256"
                    >
                      <path
                        d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm8,191.63V152h24a8,8,0,0,0,0-16H136V112a16,16,0,0,1,16-16h16a8,8,0,0,0,0-16H152a32,32,0,0,0-32,32v24H96a8,8,0,0,0,0,16h24v63.63a88,88,0,1,1,16,0Z"
                      ></path>
                    </svg>
                  </div>
                </a>
              </div>
              <p class="text-base font-normal leading-normal text-[#637588]">
                @2024 Connect. All rights reserved.
              </p>
            </footer>
          </div>
        </footer>
      </div>
    </div>
   <script>
    document.addEventListener('DOMContentLoaded', () => {
        const nextButton = document.getElementById('next-button');
        const learnMbtiButton = document.getElementById('learn-mbti-button');
        const mbtiTabGroups = document.querySelectorAll('.mbti-tab-group');
        const targetNameElement = document.getElementById('target-name');

        const getParamsFromUrl = () => {
            const params = new URLSearchParams(window.location.search);
            return {
                name: params.get('name'),
                myMbti: params.get('mbti') // mbti_test.html에서 'mbti'로 넘어온 값
            };
        };

        const { name, myMbti } = getParamsFromUrl();

        if (name) {
            targetNameElement.textContent = name;
        }

        // mbti_test.html에서 넘어온 나의 MBTI 값으로 탭을 활성화합니다.
        const activateMyMbtiTabs = (mbtiString) => {
            if (!mbtiString || mbtiString.length !== 4) return;
            const mbtiChars = mbtiString.split('');

            mbtiChars.forEach((char, index) => {
                const groupName = `my_${index + 1}`;
                const group = document.querySelector(`.mbti-tab-group[data-mbti-group="${groupName}"]`);
                if (group) {
                    const tab = group.querySelector(`.mbti-tab[data-mbti-value="${char}"]`);
                    if (tab) {
                        group.querySelectorAll('.mbti-tab').forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                    }
                }
            });
        };

        if (myMbti) {
            activateMyMbtiTabs(myMbti);
        }

        mbtiTabGroups.forEach(group => {
            const tabs = group.querySelectorAll('.mbti-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', (e) => {
                    e.preventDefault();
                    const groupName = group.getAttribute('data-mbti-group');
                    const isUnknownTab = tab.getAttribute('data-mbti-value') === 'unknown';
                    const groupPrefix = groupName.split('_')[0];

                    if (isUnknownTab) {
                        const mainGroups = document.querySelectorAll(`.mbti-tab-group[data-mbti-group^="${groupPrefix}_"]:not([data-mbti-group$="unknown"])`);
                        mainGroups.forEach(mainGroup => {
                            mainGroup.querySelectorAll('.mbti-tab').forEach(mainTab => {
                                mainTab.classList.remove('active');
                            });
                        });
                        group.querySelector('.mbti-tab[data-mbti-value="unknown"]').classList.add('active');
                    } else {
                        const parentDiv = tab.closest('.mbti-tab-group');
                        if (parentDiv) {
                            const siblingTabs = parentDiv.querySelectorAll('.mbti-tab');
                            siblingTabs.forEach(siblingTab => {
                                siblingTab.classList.remove('active');
                            });
                        }
                        const unknownGroup = document.querySelector(`.mbti-tab-group[data-mbti-group="${groupPrefix}_unknown"]`);
                        if (unknownGroup) {
                            const unknownTab = unknownGroup.querySelector('.mbti-tab[data-mbti-value="unknown"]');
                            if (unknownTab && unknownTab.classList.contains('active')) {
                                unknownTab.classList.remove('active');
                            }
                        }
                        tab.classList.add('active');
                    }
                });
            });
        });

        if (nextButton) {
            nextButton.addEventListener('click', () => {
                const mySelections = {};
                const targetSelections = {};

                document.querySelectorAll('.mbti-tab-group[data-mbti-group^="my_"]').forEach(group => {
                    const activeTab = group.querySelector('.mbti-tab.active');
                    if (activeTab) {
                        mySelections[group.getAttribute('data-mbti-group')] = activeTab.getAttribute('data-mbti-value');
                    }
                });
                document.querySelectorAll('.mbti-tab-group[data-mbti-group^="target_"]').forEach(group => {
                    const activeTab = group.querySelector('.mbti-tab.active');
                    if (activeTab) {
                        targetSelections[group.getAttribute('data-mbti-group')] = activeTab.getAttribute('data-mbti-value');
                    }
                });

                // 선택 여부 확인 로직
                const checkMbtiSelection = (mbtiSelections, isMy) => {
                    const prefix = isMy ? 'my_' : 'target_';
                    const isUnknownSelected = mbtiSelections[`${prefix}unknown`] === 'unknown';
                    const allFourSelected = mbtiSelections[`${prefix}1`] && mbtiSelections[`${prefix}2`] && mbtiSelections[`${prefix}3`] && mbtiSelections[`${prefix}4`];
                    return isUnknownSelected || allFourSelected;
                };

                const isMyMbtiSelected = checkMbtiSelection(mySelections, true);
                const isTargetMbtiSelected = checkMbtiSelection(targetSelections, false);

                if (isMyMbtiSelected && isTargetMbtiSelected) {
                    const myMbtiResult = mySelections['my_unknown'] === 'unknown' ? 'unknown' : (mySelections['my_1'] + mySelections['my_2'] + mySelections['my_3'] + mySelections['my_4']);
                    const targetMbtiResult = targetSelections['target_unknown'] === 'unknown' ? 'unknown' : (targetSelections['target_1'] + targetSelections['target_2'] + targetSelections['target_3'] + targetSelections['target_4']);
                    
                    const url = `page6.html?name=${encodeURIComponent(name)}&my_mbti=${myMbtiResult}&target_mbti=${targetMbtiResult}`;
                    
                    window.location.href = url;
                } else {
                    alert('모든 MBTI 정보를 선택하거나 "아직 모름"을 체크해주세요.');
                }
            });
        }
        
        if (learnMbtiButton) {
            learnMbtiButton.addEventListener('click', () => {
                const url = `mbti_test.html?name=${encodeURIComponent(name)}`;
                window.location.href = url;
            });
        }
    });
</script>
  </body>
</html>